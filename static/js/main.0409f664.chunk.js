(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},181:function(e,t,a){e.exports=a(447)},186:function(e,t,a){},187:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},245:function(e,t){},247:function(e,t){},279:function(e,t){},280:function(e,t){},349:function(e,t){},447:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(104),s=a.n(c),l=(a(186),a(16)),i=a(21),o=a(20),u=a(18),m=a(19),d=(a(187),a(40)),h=(a(105),a(45)),f=a(77),p=a(34),g=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],s=a[1],l="".concat(5*Math.random(),"s"),i=Object(p.c)(c?{transform:"scale(1.1)",from:{transform:"scale(1)"}}:{transform:"scale(1)",from:{transform:"scale(1.1)"}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.div,{onClick:e.onClick,onMouseEnter:function(){return s(!0)},onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)},style:Object(h.a)({backgroundImage:"url(".concat(e.imageUrl,")"),animationDelay:l,"--animDelay":l},i),className:"card"}))},v=a(180),C=function(e){var t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],s=a[1],l=Object(n.useRef)(),i=Object(n.useRef)(),o=Object(p.c)({opacity:1,transform:"translate(0px, 0px)",from:{opacity:0,transform:"translate(0px, -30px)"},ref:l}),u=Object(p.c)({to:{transform:"translate(0px, -10px)"},from:{transform:"translate(0px, 0px)"},config:{duration:1e3},reset:!c,reverse:!c,onRest:function(){return s(!c)},ref:i});return console.log(c),Object(p.b)([l,i]),r.a.createElement(p.a.div,{className:"detail__card",style:Object(h.a)({background:"url(".concat(e.imageUrl)},o,u)})},b=a(188),_=function(e){if("undefined"==typeof e.text)return null;var t=b(e.text,"\n",function(e,t){return r.a.createElement("br",null)});return t=b(t,"{T}",function(){return r.a.createElement("div",{className:"icon icon__tap"})}),t=b(t,"{W}",function(){return r.a.createElement("div",{className:"whiteMana mana"})}),t=b(t,"{B}",function(){return r.a.createElement("div",{className:"blackMana mana"})}),t=b(t,"{R}",function(){return r.a.createElement("div",{className:"redMana mana"})}),t=b(t,"{G}",function(){return r.a.createElement("div",{className:"greenMana mana"})}),t=b(t,"{U}",function(){return r.a.createElement("div",{className:"blueMana mana"})}),t=b(t,"{C}",function(){return r.a.createElement("div",{className:"colorlessMana mana"},"1")}),t=b(t,"{X}",function(){return r.a.createElement("div",{className:"colorlessMana mana"},"X")}),t=b(t,/({\d})/g,function(e){return r.a.createElement("div",{className:"colorlessMana mana"},e.replace(/\W/g,""))}),r.a.createElement("div",null,t)},E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).parseManaCost=function(e){if("undefined"!=typeof e)return e.replace(/\W/g,"").split("").map(function(e,t){if(!isNaN(e))return r.a.createElement("div",{key:t,className:"colorlessMana mana"},e);switch(e){case"G":return r.a.createElement("div",{key:t,className:"greenMana mana"});case"R":return r.a.createElement("div",{key:t,className:"redMana mana"});case"U":return r.a.createElement("div",{key:t,className:"blueMana mana"});case"W":return r.a.createElement("div",{key:t,className:"whiteMana mana"});case"B":return r.a.createElement("div",{key:t,className:"blackMana mana"});default:return}})},a.state={show:!1,card:e.card},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show,card:e.card})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"curtain",onClick:this.props.closeAction},r.a.createElement("div",{className:"detail__container"},r.a.createElement(C,{imageUrl:this.state.card.imageUrl}),r.a.createElement(v.Spring,{from:{opacity:0,transform:"translate(0px, 30px)"},to:{opacity:1,transform:"translate(0px, 0px)"}},function(t){return r.a.createElement("div",{style:Object(h.a)({},t),className:"detail__text"},r.a.createElement("h1",{className:"detail__text__header"},e.state.card.name," ",r.a.createElement("div",{className:"detail__text__header__mana"},e.parseManaCost(e.state.card.manaCost))),r.a.createElement("h2",null,e.state.card.rarity," ",e.state.card.type),null==e.state.card.toughness?null:r.a.createElement("p",null,e.state.card.power,"/",e.state.card.toughness),r.a.createElement("div",{className:"detail__text__text"},r.a.createElement(_,{text:e.state.card.text})),r.a.createElement("p",{className:"detail__text__flavorText"},e.state.card.flavor))})))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).prevPage=function(){a.state.page>0&&a.setState(function(e){return{page:e.page-8}})},a.nextPage=function(){a.setState(function(e){return{page:e.page+8}})},a.showCardInfo=function(e){"undefined"!=typeof e&&a.setState({selected:e,showInfo:!0})},a.closeCardInfo=function(){a.setState({showInfo:!1})},a.cardHover=function(){console.log("hovered")},a.state={page:0,filters:e.filters,cards:[],selected:{},showInfo:!1,searchInput:e.searchInput},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.searchInput.toLowerCase()==e.searchInput.toLowerCase()&&this.state.filters.length===e.filters.length&&this.state.filters.every(function(t,a){return t===e.filters[a]})||this.setState({page:0}),this.setState({cards:e.cards,filters:e.filters})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cardTable"},!0===this.state.showInfo?r.a.createElement(E,{closeAction:this.closeCardInfo,card:this.state.selected}):null,r.a.createElement("div",{className:"leftArrow__placeholder"},null!=this.props.prevPage?r.a.createElement("div",{className:"arrowWrapper"},r.a.createElement("div",{className:"leftArrow",style:this.leftArrowStyle,onClick:this.props.prevPage})):null),r.a.createElement("div",{className:"cards"},Object(d.a)(Array(this.state.cards.length)).map(function(t,a){return r.a.createElement(g,{key:a,onClick:function(){return e.showCardInfo(e.state.cards[e.state.page+a])},imageUrl:"undefined"==typeof e.state.cards[e.state.page+a]?null:e.state.cards[e.state.page+a].imageUrl})})),r.a.createElement("div",{className:"rightArrow__placeholder"},null!=this.props.nextPage?r.a.createElement("div",{className:"rightArrow",style:this.leftArrowStyle,onClick:this.props.nextPage}):null))}}]),t}(n.Component),x=(a(219),a(220),a(221),a(46)),P=a(109),y=function(e){return r.a.createElement("div",{className:"controls__main"},r.a.createElement("div",{className:"controls__container"},r.a.createElement("h1",{className:"title"},r.a.createElement("span",{className:"logo"},"MTG")," ",r.a.createElement("span",{className:"subtitle"},"Card Search")),r.a.createElement("div",{className:"controls__controls"},r.a.createElement("div",{className:"controls__controls__searchInput"},r.a.createElement("div",{className:"inputWrapper"},r.a.createElement("input",{className:"controls__controls__searchInput__input",onChange:e.inputHandler,value:e.searchInput,type:"text",placeholder:"Enter card name..."}),r.a.createElement("span",{className:"input__focusBorder"},r.a.createElement("i",null)))),r.a.createElement("div",{className:"controls__filters"},r.a.createElement(x.Checkbox,{color:"warning",shape:"round",animation:"smooth",style:"thick",onChange:function(t){return e.filterHandler({blueFilter:t.target.checked})},type:"checkbox"},"Blue"),r.a.createElement(x.Checkbox,{color:"warning",shape:"round",animation:"smooth",style:"thick",onChange:function(t){return e.filterHandler({redFilter:t.target.checked})},type:"checkbox"},"Red"),r.a.createElement(x.Checkbox,{color:"warning",shape:"round",animation:"smooth",style:"thick",onChange:function(t){return e.filterHandler({whiteFilter:t.target.checked})},type:"checkbox"},"White"),r.a.createElement(x.Checkbox,{color:"warning",shape:"round",animation:"smooth",style:"thick",onChange:function(t){return e.filterHandler({blackFilter:t.target.checked})},type:"checkbox"},"Black"),r.a.createElement(x.Checkbox,{color:"warning",shape:"round",animation:"smooth",style:"thick",onChange:function(t){return e.filterHandler({greenFilter:t.target.checked})},type:"checkbox"},"Green")))),r.a.createElement("div",{className:"controls__hide__pip",id:"controls__hide__pip",onClick:function(){P.endTour(),document.querySelector(".controls__main").classList.contains("active")?document.querySelector(".controls__main").classList.remove("active"):document.querySelector(".controls__main").classList.add("active")}}))},w=(a(222),a(109)),N=a(223),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).searchTimeout=setTimeout(function(){},0),e.prevPage=function(){var t=e.state.currentPageCards,a=e.state.prevPageCards;e.state.currentPage>1&&e.setState(function(e){return{currentPage:e.currentPage-1,nextPageCards:t,currentPageCards:a,prevPageCards:[]}},function(){e.state.currentPage>1&&e.getPrevPageCards()})},e.nextPage=function(){var t=e.state.currentPageCards,a=e.state.nextPageCards;e.setState(function(e){return{currentPage:e.currentPage+1,prevPageCards:t,currentPageCards:a,nextPageCards:[]}},function(){return e.getNextPageCards()})},e.getPrevPageCards=function(){N.card.where({colorIdentity:"".concat([e.state.redFilter?"R":null,e.state.blueFilter?"U":null,e.state.whiteFilter?"W":null,e.state.blackFilter?"B":null,e.state.greenFilter?"G":null].filter(Boolean).join(",")),name:e.state.searchInput.trim().length>0?e.state.searchInput:"",pageSize:8,page:e.state.currentPage-1,contains:"imageUrl,multiverseId"}).then(function(t){e.setState({prevPageCards:t})})},e.getNextPageCards=function(){e.setState({nextPageCards:[]},function(){N.card.where({colorIdentity:"".concat([e.state.redFilter?"R":null,e.state.blueFilter?"U":null,e.state.whiteFilter?"W":null,e.state.blackFilter?"B":null,e.state.greenFilter?"G":null].filter(Boolean).join(",")),name:e.state.searchInput.trim().length>0?e.state.searchInput:"",pageSize:8,page:e.state.currentPage+1,contains:"imageUrl,multiverseId"}).then(function(t){e.setState({nextPageCards:t})})})},e.searchInputHandler=function(t){e.setState({searchInput:t.target.value},function(){return e.updateFiltered()})},e.filterHandler=function(t){e.setState(t,function(){return e.updateFiltered()})},e.getBaseSet=function(){N.card.where({pageSize:8,page:1,contains:"imageUrl,multiverseId"}).then(function(t){e.setState({currentPageCards:t})})},e.updateFiltered=function(){clearTimeout(e.searchTimeout),e.searchTimeout=setTimeout(function(){N.card.where({colorIdentity:"".concat([e.state.redFilter?"R":null,e.state.blueFilter?"U":null,e.state.whiteFilter?"W":null,e.state.blackFilter?"B":null,e.state.greenFilter?"G":null].filter(Boolean).join(",")),name:e.state.searchInput.trim().length>0?e.state.searchInput:"",pageSize:8,page:1,contains:"imageUrl,multiverseId"}).then(function(t){e.setState({currentPage:1,prevPageCards:[],currentPageCards:t,nextPageCards:[]},function(){return e.getNextPageCards()})})},300)},e.setCookie=function(e,t){var a=new Date;a.setTime(a.getTime()+864e5),document.cookie="".concat(e," = ").concat(t,"; path=/;expires=").concat(a.toUTCString())},e.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null},e.intro={id:"intro",steps:[{title:"Welcome",content:"Click here to open the search menu",target:"controls__hide__pip",placement:"bottom",arrowOffset:"center",xOffset:"center"}],onEnd:function(){return e.setCookie("seenIntro","seen")},onClose:function(){return e.setCookie("seenIntro","seen")}},e.state={currentPage:1,currentPageCards:[],prevPageCards:[],nextPageCards:[],searchInput:"",redFilter:!1,blueFilter:!1,blackFilter:!1,greenFilter:!1,whiteFilter:!1,filtered:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.getBaseSet(),this.getNextPageCards()}},{key:"componentDidMount",value:function(){this.getCookie("seenIntro")||w.startTour(this.intro)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{inputHandler:this.searchInputHandler,filterHandler:this.filterHandler,searchInput:this.state.searchInput,redFilter:this.state.redFilter,blueFilter:this.state.blueFilter,blackFilter:this.state.blackFilter,whiteFilter:this.state.whiteFilter,greenFilter:this.state.greenFilter,colorlessFilter:this.state.colorlessFilter}),r.a.createElement(k,{filters:[this.state.redFilter,this.state.blueFilter,this.state.whiteFilter,this.state.blackFilter,this.state.greenFilter,this.state.colorlessFilter],cards:this.state.currentPageCards,searchInput:this.state.searchInput,nextPage:this.state.nextPageCards.length>0?this.nextPage:null,prevPage:this.state.prevPageCards.length>0?this.prevPage:null}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[181,1,2]]]);
//# sourceMappingURL=main.0409f664.chunk.js.map